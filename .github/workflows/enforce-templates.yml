name: "Enforce Issue and PR Templates"
on:
  issues:
    types: [opened, edited]
  pull_request:
    types: [opened, edited]

jobs:
  check-templates:
    runs-on: ubuntu-latest
    steps:
      - name: Check Issue and PR Templates
        uses: actions/github-script@v7
        with:
          script: |
            const { owner, repo } = context.repo;
            let body = '';
            if (context.payload.issue) {
              body = context.payload.issue.body;
            } else if (context.payload.pull_request) {
              body = context.payload.pull_request.body;
            }

            if (!body || body.includes("<!-- Please follow the template")) {
              core.setFailed("❌ Issue or PR does not follow the required template!");
            }
